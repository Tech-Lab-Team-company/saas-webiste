<script setup lang="ts">
import BottomDashedIcon from '~/public/icons/BottomDashedIcon.vue';
import SquareIcon from '~/public/icons/squareIcon.vue';
import TopDashedArrow from '~/public/icons/TopDashedArrow.vue';
import { ref, onMounted } from 'vue';

const stepsContainer = ref<HTMLElement | null>(null);
const isVisible = ref(false);

onMounted(() => {
  const observer = new IntersectionObserver(
    ([entry]) => {
      if (entry.isIntersecting) {
        isVisible.value = true;
        observer.unobserve(entry.target);
      }
    },
    { threshold: 0.3 }
  );

  if (stepsContainer.value) {
    observer.observe(stepsContainer.value);
  }

  return () => {
    if (stepsContainer.value) {
      observer.unobserve(stepsContainer.value);
    }
  };
});




import type TitleInterface from '~/types/title_intefrace';


  const props = defineProps({
  AboutusSteps: {
      type: Object as () => TitleInterface[] | null,
      default: null
  }
  });

  const Aboutussteps = ref(props.AboutusSteps);

  watch(() => props.AboutusSteps, (newValue) => {
    Aboutussteps.value = newValue;
  }, { immediate: true });


</script>

<template>
    <div class="aboutus-steps-container">
        <div class="aboutus-steps-header">
            <h3>ุฎุทูุงุช ุจุณูุทุฉ ูุฅุฏุงุฑุฉ ูููุฌู ุงูุชุนูููู</h3>
            <hr class="abotus-hr">
        </div>

        <div class="aboutus-setps" ref="stepsContainer" :class="{ 'animate': isVisible }">
            <div class="left-stpes">
                <!-- <div class="aboutus-circle-steps aboutus-circle-steps-start">
                    <h4>2- ุงุจุฏุฃ ุงูุชุนููู ูุชุงุจูุน ุชูุฏููู</h4>
                    <p>ุดุงูุฏ ุงูุฏุฑูุณุ ุญู ุงูุชูุงุฑููุ ูุฑุงุฌุน ูู ุฎุทูุฉ ุจุชุนูููุง ูู ุฎูุงู ุตูุญุฉ ููุฑุณุงุชู ุงูุฎุงุตุฉ. 
                ุงุฎุชุจุฑ ููุณู ูู ุจูู ุงูุฃุณุฆูุฉ ๐</p>
                </div> -->
                <div class="aboutus-circle-steps aboutus-circle-steps-start">
                    <h4>{{ Aboutussteps[0]?.title }}</h4>
                    <p>{{ Aboutussteps[0].subtitle}}</p>
                </div>
            </div>
            <div class="aboutus-arrows">
                <TopDashedArrow class="aboutus-arrow"/>
                <BottomDashedIcon class="aboutus-arrow" />
            </div>
            <div class="right-steps">
                <!-- <div class="aboutus-circle-steps">
                    <h4>1- ุงุฎุชุงุฑ ุงูููุฑุณุงุช ุงููู ุชููู</h4>
                    <p>ุชุตููุญ ูุฌููุนุฉ ูุจูุฑุฉ ูู ุงูุฏูุฑุงุช ุงูุชุนููููุฉ ูู ูุฎุชูู ุงูุชุฎุตุตุงุชุ ูุงุฎุชุงุฑ ุงููู ููุงุณุจ ูุณุชูุงู ูุงูุชูุงูุงุชู.
                        ุงุจุฏุฃ ุงูุชุนููู ูุชุงุจูุน ุชูุฏููู</p>
                </div> -->
                <div class="aboutus-circle-steps">
                    <h4>{{ Aboutussteps[0]?.title }}</h4>
                    <p>{{Aboutussteps[0].subtitle }}</p>
                </div>
                <!-- <div class="aboutus-circle-steps aboutus-circle-steps-test ">
                    <h4>3- ุงุฎุชุจุฑ ููุณู ูู ุจูู ุงูุฃุณุฆูุฉ</h4>
                    <p>ุงุฏุฎู ุนูู ุจูู ุงูุฃุณุฆูุฉ ูุชุฏุฑูุจ ุนูู ุฃุณุฆูุฉ ูุชููุนุฉ ุญุณุจ ุงููุงุฏุฉ ุฃู ุงูููุงุฑุฉุ ุนูุดุงู ุชุซุจุช ูุนูููุงุชู. โ๏ธ</p>
                </div> -->
                <div class="aboutus-circle-steps aboutus-circle-steps-test ">
                    <h4>{{ Aboutussteps[0]?.title }}</h4>
                    <p>{{Aboutussteps[0].subtitle }}</p>
                </div>
            </div>

            <SquareIcon class="first-square" />
            <SquareIcon class="second-square" />
            <SquareIcon class="third-square" />
        </div>
    </div>
</template>

<style scoped></style>